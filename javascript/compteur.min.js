function drawCompteur(){context.beginPath(),context.arc(250,250,210,0,2*Math.PI),context.fillStyle="rgb(230, 230, 230)",context.fill(),context.beginPath(),context.arc(250,250,200,0,2*Math.PI),context.fillStyle="rgb(200, 200, 200)",context.fill(),context.stroke(),context.beginPath(),context.arc(250,250,185,0,2*Math.PI),context.fillStyle="rgb(255, 255, 255)",context.fill(),context.stroke(),context.beginPath(),context.arc(250,250,30,0,2*Math.PI),context.fillStyle="rgb(0, 0, 0)",context.fill();var t=new Image;for(t.src="images/compteur_numerique.jpg",t.onload=function(){context.drawImage(t,250-t.width/2,300)},context.font="12pt Roboto,Geneva,Arial",context.fillStyle="#000",context.fillText("km/h",230,210),context.save(),context.translate(250,250),context.rotate(Math.PI-Math.PI/6),context.font="12pt Roboto,Geneva,Arial",i=0;41>i;i++)context.beginPath(),context.moveTo(155,0),i%2==0?(context.lineTo(172,0),context.lineWidth=4,i%4==0&&(context.fillStyle="#000",context.fillText(5*i,120,5))):(context.lineTo(165,0),context.lineWidth=1),context.stroke(),context.rotate(Math.PI/30);context.restore()}function drawVitesse(){context_vitesse.save(),context_vitesse.beginPath(),context_vitesse.font="16pt Roboto,Geneva,Arial",context_vitesse.fillStyle="#fff",context_vitesse.fillText(vitesse,245,325),context_vitesse.restore(),context_vitesse.save(),context_vitesse.translate(250,250),context_vitesse.rotate(Math.PI-Math.PI/6),context_vitesse.beginPath(),context_vitesse.moveTo(30,0),context_vitesse.lineTo(150,0),context_vitesse.lineWidth=4,context_vitesse.strokeStyle="red",context_vitesse.stroke(),context_vitesse.restore()}function moveVitesse(){context_vitesse.clearRect(0,0,500,500),duree++,keydown.up&&(40>vitesse?vitesse++:vitesse--),keydown.down&&vitesse>0&&vitesse--}function animationLoop(){moveVitesse(),drawVitesse()}function init(){vitesse=0,duree=0,drawCompteur(),setInterval(animationLoop,1e3/30)}var canvas_compteur,ctx,canvas_vitesse,ctx2,vitesse,duree,sonKlaxon,sonVictoire,sonAcceleration,canvas_compteur=document.getElementById("compteur"),context=canvas_compteur.getContext("2d"),canvas_vitesse=document.getElementById("vitesse"),context_vitesse=canvas_vitesse.getContext("2d");window.onload=function(){init()};